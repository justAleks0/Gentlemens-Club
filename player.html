<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gentlemen's Club - Player</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .back-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 14px;
            padding: 8px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.15s ease;
        }
        
        .back-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        .player-page {
            display: block !important;
            padding: 0 !important;
        }
        
        .not-found {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
            text-align: center;
            color: var(--text-muted);
        }
        
        .not-found h2 {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        .not-found p {
            font-size: 16px;
            margin-bottom: 30px;
        }
        
        .not-found a {
            background: var(--accent);
            color: #000;
            padding: 12px 24px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
        }
        
        .not-found a:hover {
            background: var(--accent-hover);
        }

        .action-btn.active {
            background: var(--accent);
            color: #000;
            border-color: var(--accent);
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Off-Canvas Side Navigation -->
        <div id="sideNav" class="sidenav">
            <button class="sidenav-close" onclick="closeSidebar()">&times;</button>
            <a href="index.html" class="sidenav-logo">
                <img src="logo.png" alt="Gentlemen's Club">
            </a>
            <nav class="sidenav-links">
                <a href="index.html">üè† Home</a>
                <a href="index.html#videos">üé¨ Videos</a>
                <a href="index.html#search">üîç Search</a>
                <a href="index.html#favorites">‚ù§Ô∏è Favorites</a>
                <a href="index.html#subscriptions">‚≠ê Creators</a>
                <a href="index.html#playlists">üìÅ Playlists</a>
                <a href="index.html#watchlater">‚è±Ô∏è Watch Later</a>
                <a href="index.html#history">üìú History</a>
                <a href="index.html#sites">üîó Sites</a>
            </nav>
        </div>

        <!-- Overlay for sidenav -->
        <div id="sideNavOverlay" class="sidenav-overlay" onclick="closeSidebar()"></div>

        <!-- Header -->
        <header class="header">
            <div class="header-top">
                <div class="header-left">
                    <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                    <a href="index.html" class="header-logo">
                        <img src="logo.png" alt="Gentlemen's Club">
                    </a>
                </div>
                
                <div class="header-right">
                    <button class="header-btn" title="Search" onclick="window.location.href='index.html#search'">üîç</button>
                    <button class="theme-toggle" id="themeToggle" title="Toggle Dark/Light Mode" onclick="toggleTheme()">
                        <img src="dark mode.gif" alt="Toggle theme" id="themeIcon">
                    </button>
                    <button class="header-btn" title="Home" onclick="window.location.href='index.html'">üè†</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="content">
            <section class="player-page" id="playerPage">
                <div class="player-container">
                    <div class="player-main">
                        <!-- Video Player -->
                        <div class="video-player-wrapper">
                            <div class="video-player" id="videoPlayer">
                                <div class="player-loading"></div>
                            </div>
                            <div class="player-controls">
                                <button class="player-ctrl-btn" onclick="player.openInPopup()" title="Open in popup window">
                                    ‚ßâ Popup
                                </button>
                                <button class="player-ctrl-btn" onclick="player.openSource()" title="Open source in new tab">
                                    ‚Üó Source
                                </button>
                                <button class="player-ctrl-btn" onclick="player.reloadEmbed()" title="Reload embed">
                                    ‚Üª Reload
                                </button>
                            </div>
                        </div>
                        
                        <!-- Video Info -->
                        <div class="player-info">
                            <h1 class="player-title" id="playerTitle">Loading...</h1>
                            
                            <div class="player-meta-row">
                                <div class="player-stats">
                                    <span class="views" id="playerViews">0 Views</span>
                                    <span class="separator">|</span>
                                    <span class="date" id="playerDate">Just now</span>
                                </div>
                                
                                <div class="player-actions">
                                    <button class="action-btn" id="playerLike">
                                        <span class="icon">üëç</span>
                                        <span id="playerLikeCount">0</span>
                                    </button>
                                    <button class="action-btn">
                                        <span class="icon">üëé</span>
                                    </button>
                                    <button class="action-btn" id="btnFavorite" onclick="player.toggleFavorite()">
                                        <span class="icon" id="favIcon">ü§ç</span>
                                        <span id="favText">Favorite</span>
                                    </button>
                                    <button class="action-btn" id="btnWatchLater" onclick="player.toggleWatchLater()">
                                        <span class="icon">‚è±Ô∏è</span>
                                        <span id="wlText">Watch Later</span>
                                    </button>
                                    <button class="action-btn" onclick="player.openAddToPlaylist()">
                                        <span class="icon">üìÅ</span>
                                        <span>Add to</span>
                                    </button>
                                    <button class="action-btn" onclick="player.shareVideo()">
                                        <span class="icon">‚Üó</span>
                                        <span>Share</span>
                                    </button>
                                    <button class="action-btn source-btn" onclick="player.openSource()">
                                        <span class="icon">üîó</span>
                                        <span>Source</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Channel Info -->
                        <div class="channel-section">
                            <div class="channel-info" onclick="player.openChannelPage()" style="cursor: pointer;" title="View more from this creator">
                                <div class="channel-avatar" id="channelAvatar">A</div>
                                <div class="channel-details">
                                    <div class="channel-name">
                                        <span id="channelName">Unknown</span>
                                        <span class="verified">‚úì</span>
                                    </div>
                                    <div class="channel-stats" id="channelStats">Click to find more videos</div>
                                </div>
                            </div>
                            <div class="channel-actions">
                                <button class="more-btn" onclick="player.openChannelPage()">More of Me ‚Üó</button>
                                <button class="subscribe-btn" onclick="player.subscribeChannel()">üì° Subscribe</button>
                            </div>
                        </div>
                        
                        <!-- Tags -->
                        <div class="player-tags" id="playerTags"></div>
                        
                        <!-- Tabs -->
                        <div class="player-tabs">
                            <button class="tab-btn active">Related</button>
                            <button class="tab-btn">Comments</button>
                            <button class="tab-btn">Playlist</button>
                        </div>
                        
                        <!-- Related Videos (Mobile/Below) -->
                        <div class="related-videos-mobile" id="relatedVideosMobile"></div>
                    </div>
                    
                    <!-- Sidebar - Related Videos -->
                    <aside class="player-sidebar">
                        <div class="related-videos" id="relatedVideos"></div>
                    </aside>
                </div>
            </section>
            
            <!-- Not Found -->
            <section class="not-found" id="notFound" style="display: none;">
                <h2>404</h2>
                <p>Video not found</p>
                <a href="index.html">Go Home</a>
            </section>
        </main>
    </div>

    <!-- Add to Playlist Modal -->
    <div class="modal" id="addToPlaylistModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add to Playlist</h3>
                <button class="close-btn" onclick="player.closeModal()">&times;</button>
            </div>
            <div class="playlist-selector" id="playlistSelector">
                <!-- Playlists will be rendered here -->
            </div>
            <div class="modal-footer">
                <button class="btn-new-playlist" onclick="player.createPlaylistAndAdd()">+ Create New Playlist</button>
            </div>
        </div>
    </div>

    <script src="user.js"></script>
    <script src="player.js"></script>
</body>
</html>
